{"title":"Video Game Music 批量下載器","slug":"video-game-music-batch-downloader","date":"2018-01-20T06:51:05.000Z","updated":"2019-08-16T11:14:47.000Z","comments":true,"path":"api/articles/video-game-music-batch-downloader.json","excerpt":"Video Game Music 是一個提供許多遊戲 OST 下載與試聽的網站，也提供許多免費單曲下載<br>不過下載整張專輯的功能是需要 donate 的，因此就弄了一個簡單的腳本來批量下載<br>下載連結: Greasy Fork我之所以知道這個網站是為了下載整張永恆的賽妮亞的 OST這遊戲也是不錯的遊戲，有興趣可以玩玩看","covers":["eternal_senia_ostpage.png","downloading.png","zip.png"],"content":"<p><a href=\"https://downloads.khinsider.com/\" target=\"_blank\" rel=\"noopener\">Video Game Music</a> 是一個提供許多遊戲 OST 下載與試聽的網站，也提供許多免費單曲下載<br>不過下載整張專輯的功能是需要 donate 的，因此就弄了一個簡單的腳本來批量下載<br>下載連結: <a href=\"https://greasyfork.org/zh-TW/scripts/37314-video-game-music-batch-downloader\" target=\"_blank\" rel=\"noopener\">Greasy Fork</a></p>\n<blockquote>\n<p>我之所以知道這個網站是為了下載整張<a href=\"http://store.steampowered.com/app/351640/Eternal_Senia/\" target=\"_blank\" rel=\"noopener\">永恆的賽妮亞</a>的 OST</p>\n<p>這遊戲也是不錯的遊戲，有興趣可以玩玩看</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h1><p>安裝完上面的腳本之後到 <a href=\"https://downloads.khinsider.com/\" target=\"_blank\" rel=\"noopener\">Video Game Music</a> 網站上找到你喜歡的遊戲這篇文章以<a href=\"https://downloads.khinsider.com/game-soundtracks/album/eternal-senia\" target=\"_blank\" rel=\"noopener\">永恆的賽妮亞</a>作為範例<br><img src=\"eternal_senia_ostpage.png\" alt=\"Eternal Senia OST page\"></p>\n<p>按下圖片中的 <strong>click to download</strong> 然後右邊會出現一個進度條建議瀏覽器留在這個分頁，因為同時瀏覽其他分頁時可能會卡卡的(Firefox)<br><img src=\"downloading.png\" alt=\"Album Downloading\"></p>\n<p>等進度條跑到滿之後瀏覽器應該會自動觸發下載，檔案名=[遊戲名稱].zip<br>把 zip 用 7zip,winrar 之類的程式打開裡面就會有你想要的音樂了<br><img src=\"zip.png\" alt=\"zip\"></p>\n<h1 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h1><p>直接點擊下方的任何一首音樂就會進入到音樂的下載頁面，而下載頁面上有連結然後用<code>ajax</code>的方式去把檔案存在記憶體成<code>Blob</code>的格式最後用 <a href=\"https://stuk.github.io/jszip/\" target=\"_blank\" rel=\"noopener\">JSZip</a> 把檔案包裝成 zip 檔</p>\n<p>程式碼: <a href=\"https://greasyfork.org/zh-TW/scripts/37314-video-game-music-batch-downloader/code\" target=\"_blank\" rel=\"noopener\">Greasy Fork</a></p>\n<h2 id=\"downloadblob\"><a href=\"#downloadblob\" class=\"headerlink\" title=\"downloadblob\"></a>downloadblob</h2><p>因為網站本身在<code>https://downloads.khinsider.com/</code>上，屬於 https<br>而存放音樂的伺服器在<code>http://66.90.93.122/</code>上，屬於 http<br>因為 protocol 不同的關係不符合同源政策所以沒辦法直接用一般的<code>XMLHttpRequest</code>和<code>fetch</code><br>需要使用腳本管理器提供的<code>GM_xmlhttpRequest</code>來做請求</p>\n<p>函數也很簡單，就是給 url 然後回傳一個<code>Promise&lt;Blob&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// @grant        GM_xmlhttpRequest</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//something...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">downloadblob</span>(<span class=\"params\">url</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    GM_xmlhttpRequest(&#123;</span><br><span class=\"line\">      method: <span class=\"string\">'GET'</span>,</span><br><span class=\"line\">      url,</span><br><span class=\"line\">      responseType: <span class=\"string\">'blob'</span>,</span><br><span class=\"line\">      onload: <span class=\"function\"><span class=\"params\">res</span> =&gt;</span> resolve(res.response)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"主程式\"><a href=\"#主程式\" class=\"headerlink\" title=\"主程式\"></a>主程式</h2><p>在原本就有的 <code>click to download</code> 連結上綁<code>click</code>事件並取消它，然後顯示進度條接下來取得遊戲名稱和各首歌下載頁面的網址用<code>fetch</code>去抓下載頁面，並且用<code>jquery</code>在上面找出<code>mp3</code>的真實連結再來把把真實連結轉成<code>{blob: Promise&lt;Blob&gt;,name: String}</code>的物件，用<code>reduce</code>去加入<code>JSZip</code> (<code>JSZip</code>支援<code>Promise</code>)<br>而<code>JSZip</code>有支援進度，在有進度時就更新前面的<code>&lt;progress&gt;</code><br>最後在下載完成時把整個<code>zip</code>的<code>Blob</code>弄成 url 並觸發下載就完成了</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">'a:contains(\"click to download\")'</span>).on(<span class=\"string\">'click'</span>, e =&gt; &#123;</span><br><span class=\"line\">  e.preventDefault()</span><br><span class=\"line\">  $(<span class=\"string\">'.albumMassDownload'</span>).append(<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;span&gt;Download progress:&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;progress min=\"0\" max=\"100\" id=\"dp\" value=\"0\"&gt;&lt;/progress&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> title = $(<span class=\"string\">'h2'</span>)[<span class=\"number\">0</span>].textContent</span><br><span class=\"line\">  <span class=\"keyword\">const</span> urls = $(<span class=\"string\">'tr&gt;td.clickable-row:not([align])'</span>)</span><br><span class=\"line\">    .toArray()</span><br><span class=\"line\">    .map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span></span><br><span class=\"line\">      $(el)</span><br><span class=\"line\">        .find(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">        .attr(<span class=\"string\">'href'</span>)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  <span class=\"keyword\">const</span> requests = urls.map(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> fetch(e).then(<span class=\"function\"><span class=\"params\">r</span> =&gt;</span> r.text()))</span><br><span class=\"line\">  <span class=\"built_in\">Promise</span>.all(requests).then(<span class=\"function\"><span class=\"params\">ar</span> =&gt;</span></span><br><span class=\"line\">    ar</span><br><span class=\"line\">      .map(<span class=\"function\"><span class=\"params\">ht</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> url = $(ht)</span><br><span class=\"line\">          .find(<span class=\"string\">'a:contains(\"Click here to download as MP3\")'</span>)</span><br><span class=\"line\">          .attr(<span class=\"string\">'href'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          blob: downloadblob(url),</span><br><span class=\"line\">          name: <span class=\"built_in\">decodeURIComponent</span>(url.split(<span class=\"string\">'/'</span>).pop())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .reduce(<span class=\"function\">(<span class=\"params\">zip, file</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        zip.file(file.name, file.blob)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> zip</span><br><span class=\"line\">      &#125;, <span class=\"keyword\">new</span> JSZip())</span><br><span class=\"line\">      .generateAsync(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'blob'</span> &#125;, meta =&gt; &#123;</span><br><span class=\"line\">        $(<span class=\"string\">'#dp'</span>).attr(<span class=\"string\">'value'</span>, <span class=\"built_in\">parseInt</span>(meta.percent))</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> url = URL.createObjectURL(blob)</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">        a.download = title + <span class=\"string\">'.zip'</span></span><br><span class=\"line\">        a.href = url</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.body.appendChild(a)</span><br><span class=\"line\">        a.click()</span><br><span class=\"line\">        a.remove()</span><br><span class=\"line\">        URL.revokeObjectURL(url)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n","more":"<h1 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h1><p>安裝完上面的腳本之後到 <a href=\"https://downloads.khinsider.com/\" target=\"_blank\" rel=\"noopener\">Video Game Music</a> 網站上找到你喜歡的遊戲這篇文章以<a href=\"https://downloads.khinsider.com/game-soundtracks/album/eternal-senia\" target=\"_blank\" rel=\"noopener\">永恆的賽妮亞</a>作為範例<br><img src=\"eternal_senia_ostpage.png\" alt=\"Eternal Senia OST page\"></p>\n<p>按下圖片中的 <strong>click to download</strong> 然後右邊會出現一個進度條建議瀏覽器留在這個分頁，因為同時瀏覽其他分頁時可能會卡卡的(Firefox)<br><img src=\"downloading.png\" alt=\"Album Downloading\"></p>\n<p>等進度條跑到滿之後瀏覽器應該會自動觸發下載，檔案名=[遊戲名稱].zip<br>把 zip 用 7zip,winrar 之類的程式打開裡面就會有你想要的音樂了<br><img src=\"zip.png\" alt=\"zip\"></p>\n<h1 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h1><p>直接點擊下方的任何一首音樂就會進入到音樂的下載頁面，而下載頁面上有連結然後用<code>ajax</code>的方式去把檔案存在記憶體成<code>Blob</code>的格式最後用 <a href=\"https://stuk.github.io/jszip/\" target=\"_blank\" rel=\"noopener\">JSZip</a> 把檔案包裝成 zip 檔</p>\n<p>程式碼: <a href=\"https://greasyfork.org/zh-TW/scripts/37314-video-game-music-batch-downloader/code\" target=\"_blank\" rel=\"noopener\">Greasy Fork</a></p>\n<h2 id=\"downloadblob\"><a href=\"#downloadblob\" class=\"headerlink\" title=\"downloadblob\"></a>downloadblob</h2><p>因為網站本身在<code>https://downloads.khinsider.com/</code>上，屬於 https<br>而存放音樂的伺服器在<code>http://66.90.93.122/</code>上，屬於 http<br>因為 protocol 不同的關係不符合同源政策所以沒辦法直接用一般的<code>XMLHttpRequest</code>和<code>fetch</code><br>需要使用腳本管理器提供的<code>GM_xmlhttpRequest</code>來做請求</p>\n<p>函數也很簡單，就是給 url 然後回傳一個<code>Promise&lt;Blob&gt;</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// @grant        GM_xmlhttpRequest</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//something...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">downloadblob</span>(<span class=\"params\">url</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    GM_xmlhttpRequest(&#123;</span><br><span class=\"line\">      method: <span class=\"string\">'GET'</span>,</span><br><span class=\"line\">      url,</span><br><span class=\"line\">      responseType: <span class=\"string\">'blob'</span>,</span><br><span class=\"line\">      onload: <span class=\"function\"><span class=\"params\">res</span> =&gt;</span> resolve(res.response)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"主程式\"><a href=\"#主程式\" class=\"headerlink\" title=\"主程式\"></a>主程式</h2><p>在原本就有的 <code>click to download</code> 連結上綁<code>click</code>事件並取消它，然後顯示進度條接下來取得遊戲名稱和各首歌下載頁面的網址用<code>fetch</code>去抓下載頁面，並且用<code>jquery</code>在上面找出<code>mp3</code>的真實連結再來把把真實連結轉成<code>{blob: Promise&lt;Blob&gt;,name: String}</code>的物件，用<code>reduce</code>去加入<code>JSZip</code> (<code>JSZip</code>支援<code>Promise</code>)<br>而<code>JSZip</code>有支援進度，在有進度時就更新前面的<code>&lt;progress&gt;</code><br>最後在下載完成時把整個<code>zip</code>的<code>Blob</code>弄成 url 並觸發下載就完成了</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">'a:contains(\"click to download\")'</span>).on(<span class=\"string\">'click'</span>, e =&gt; &#123;</span><br><span class=\"line\">  e.preventDefault()</span><br><span class=\"line\">  $(<span class=\"string\">'.albumMassDownload'</span>).append(<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;span&gt;Download progress:&lt;/span&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;progress min=\"0\" max=\"100\" id=\"dp\" value=\"0\"&gt;&lt;/progress&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> title = $(<span class=\"string\">'h2'</span>)[<span class=\"number\">0</span>].textContent</span><br><span class=\"line\">  <span class=\"keyword\">const</span> urls = $(<span class=\"string\">'tr&gt;td.clickable-row:not([align])'</span>)</span><br><span class=\"line\">    .toArray()</span><br><span class=\"line\">    .map(<span class=\"function\"><span class=\"params\">el</span> =&gt;</span></span><br><span class=\"line\">      $(el)</span><br><span class=\"line\">        .find(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">        .attr(<span class=\"string\">'href'</span>)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  <span class=\"keyword\">const</span> requests = urls.map(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> fetch(e).then(<span class=\"function\"><span class=\"params\">r</span> =&gt;</span> r.text()))</span><br><span class=\"line\">  <span class=\"built_in\">Promise</span>.all(requests).then(<span class=\"function\"><span class=\"params\">ar</span> =&gt;</span></span><br><span class=\"line\">    ar</span><br><span class=\"line\">      .map(<span class=\"function\"><span class=\"params\">ht</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> url = $(ht)</span><br><span class=\"line\">          .find(<span class=\"string\">'a:contains(\"Click here to download as MP3\")'</span>)</span><br><span class=\"line\">          .attr(<span class=\"string\">'href'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">          blob: downloadblob(url),</span><br><span class=\"line\">          name: <span class=\"built_in\">decodeURIComponent</span>(url.split(<span class=\"string\">'/'</span>).pop())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .reduce(<span class=\"function\">(<span class=\"params\">zip, file</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        zip.file(file.name, file.blob)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> zip</span><br><span class=\"line\">      &#125;, <span class=\"keyword\">new</span> JSZip())</span><br><span class=\"line\">      .generateAsync(&#123; <span class=\"attr\">type</span>: <span class=\"string\">'blob'</span> &#125;, meta =&gt; &#123;</span><br><span class=\"line\">        $(<span class=\"string\">'#dp'</span>).attr(<span class=\"string\">'value'</span>, <span class=\"built_in\">parseInt</span>(meta.percent))</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .then(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> url = URL.createObjectURL(blob)</span><br><span class=\"line\">        <span class=\"keyword\">const</span> a = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">        a.download = title + <span class=\"string\">'.zip'</span></span><br><span class=\"line\">        a.href = url</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.body.appendChild(a)</span><br><span class=\"line\">        a.click()</span><br><span class=\"line\">        a.remove()</span><br><span class=\"line\">        URL.revokeObjectURL(url)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>","categories":[{"name":"userscript","path":"api/categories/userscript.json"}],"tags":[{"name":"javascript","path":"api/tags/javascript.json"},{"name":"userscript","path":"api/tags/userscript.json"}]}