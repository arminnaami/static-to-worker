{"title":"壓縮 hexo 部落格","slug":"compress-hexo-blog","date":"2017-12-02T14:38:01.000Z","updated":"2019-08-16T11:14:47.577Z","comments":true,"path":"api/articles/compress-hexo-blog.json","excerpt":"hexo 所產生出來的網站都是靜態的html頁面，預設情形下到public資料夾隨便打開檔案都會發現許多多餘的空白及換行<br>因此我們可以把這些東西消除，並且減少檔案體積、增加傳輸速度你現在看的這個網站就是有經過壓縮的","covers":["gulp.jpg"],"content":"<p>hexo 所產生出來的網站都是<strong>靜態</strong>的<code>html</code>頁面，預設情形下到<code>public</code>資料夾隨便打開檔案都會發現許多多餘的空白及換行<br>因此我們可以把這些東西消除，並且減少檔案體積、增加傳輸速度</p>\n<blockquote>\n<p>你現在看的這個網站就是有經過壓縮的</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"安裝-gulp\"><a href=\"#安裝-gulp\" class=\"headerlink\" title=\"安裝 gulp\"></a>安裝 gulp</h1><p>在有<code>package.json</code>的路徑下執行下面的指令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -S gulp gulp-clean-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp-pretty-data gulp-dom</span><br></pre></td></tr></table></figure>\n\n<p>gulp 是一個拿來批量構建一些東西用的工具我們會使用它加上其他的插件來幫 hexo 產生出來的檔案壓縮<br><img src=\"gulp.jpg\" alt=\"gulp logo\"></p>\n<h1 id=\"設定\"><a href=\"#設定\" class=\"headerlink\" title=\"設定\"></a>設定</h1><h2 id=\"gulpfile-js\"><a href=\"#gulpfile-js\" class=\"headerlink\" title=\"gulpfile.js\"></a>gulpfile.js</h2><p>在<code>package.json</code>同一層的目錄建立一個檔案名為<code>gulpfile.js</code><br>檔案內容如下</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> cleancss = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-clean-css'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> uglify = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-uglify'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlmin = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-htmlmin'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlclean = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-htmlclean'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> prettyData = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-pretty-data'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> dom = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-dom'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'css'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理css</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.css'</span>)</span><br><span class=\"line\">    .pipe(cleancss(&#123; <span class=\"attr\">compatibility</span>: <span class=\"string\">'ie8'</span> &#125;))</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'html'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理html</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.html'</span>)</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      dom(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//這會把每個外連的連結加上rel=\"noopener noreferrer\"(為了安全性)</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> links = <span class=\"built_in\">Array</span>.from(<span class=\"keyword\">this</span>.querySelectorAll(<span class=\"string\">'a'</span>))</span><br><span class=\"line\">        links.filter(<span class=\"function\"><span class=\"params\">link</span> =&gt;</span> link.target === <span class=\"string\">'_blank'</span>).forEach(<span class=\"function\"><span class=\"params\">link</span> =&gt;</span> (link.rel = <span class=\"string\">'noopener noreferrer'</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(htmlclean())</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      htmlmin(&#123;</span><br><span class=\"line\">        removeComments: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyJS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyCSS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyURLs: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'js'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理javascript</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.js'</span>)</span><br><span class=\"line\">    .pipe(uglify())</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'xml-json'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理xml與json(選擇性，如果不要的話就把這一段移除掉並把下面'xml-json'也移除)</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.(xml|json)'</span>)</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      prettyData(&#123;</span><br><span class=\"line\">        type: <span class=\"string\">'minify'</span>,</span><br><span class=\"line\">        preserveComments: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        extensions: &#123;</span><br><span class=\"line\">          xlf: <span class=\"string\">'xml'</span>,</span><br><span class=\"line\">          svg: <span class=\"string\">'xml'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, [</span><br><span class=\"line\">  <span class=\"comment\">//執行tasks</span></span><br><span class=\"line\">  <span class=\"string\">'css'</span>,</span><br><span class=\"line\">  <span class=\"string\">'html'</span>,</span><br><span class=\"line\">  <span class=\"string\">'js'</span>,</span><br><span class=\"line\">  <span class=\"string\">'xml-json'</span></span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h2><p>接下來打開<code>package.json</code><br>新增一個<code>scripts</code>的區塊，裡面有個字串<code>build</code>，值填入<code>hexo clean &amp;&amp; hexo g &amp;&amp; gulp</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//something....</span></span><br><span class=\"line\"><span class=\"string\">\"private\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\"> <span class=\"string\">\"build\"</span>: <span class=\"string\">\"hexo clean &amp;&amp; hexo g &amp;&amp; gulp\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">\"dependencies\"</span>: &#123; <span class=\"comment\">//something....</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"完成\"><a href=\"#完成\" class=\"headerlink\" title=\"完成\"></a>完成</h1><p>基本上這樣就完成了未來只要執行<code>npm run build</code>就會自動產生檔案並壓縮，而執行<code>hexo generate</code>只會產生檔案而不會壓縮</p>\n<p>此外，<code>gulpfile.js</code>其實還能做很多事來修改頁面上的一些東西，但我懶得寫文章詳細講<br>有興趣的可以來看看這個網站所用的 <a href=\"https://github.com/maple3142/Blog/blob/master/gulpfile.js\" target=\"_blank\" rel=\"noopener\">gulefile.js</a></p>\n","more":"<h1 id=\"安裝-gulp\"><a href=\"#安裝-gulp\" class=\"headerlink\" title=\"安裝 gulp\"></a>安裝 gulp</h1><p>在有<code>package.json</code>的路徑下執行下面的指令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -S gulp gulp-clean-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp-pretty-data gulp-dom</span><br></pre></td></tr></table></figure>\n\n<p>gulp 是一個拿來批量構建一些東西用的工具我們會使用它加上其他的插件來幫 hexo 產生出來的檔案壓縮<br><img src=\"gulp.jpg\" alt=\"gulp logo\"></p>\n<h1 id=\"設定\"><a href=\"#設定\" class=\"headerlink\" title=\"設定\"></a>設定</h1><h2 id=\"gulpfile-js\"><a href=\"#gulpfile-js\" class=\"headerlink\" title=\"gulpfile.js\"></a>gulpfile.js</h2><p>在<code>package.json</code>同一層的目錄建立一個檔案名為<code>gulpfile.js</code><br>檔案內容如下</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> cleancss = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-clean-css'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> uglify = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-uglify'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlmin = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-htmlmin'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlclean = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-htmlclean'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> prettyData = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-pretty-data'</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> dom = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-dom'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'css'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理css</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.css'</span>)</span><br><span class=\"line\">    .pipe(cleancss(&#123; <span class=\"attr\">compatibility</span>: <span class=\"string\">'ie8'</span> &#125;))</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'html'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理html</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.html'</span>)</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      dom(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//這會把每個外連的連結加上rel=\"noopener noreferrer\"(為了安全性)</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> links = <span class=\"built_in\">Array</span>.from(<span class=\"keyword\">this</span>.querySelectorAll(<span class=\"string\">'a'</span>))</span><br><span class=\"line\">        links.filter(<span class=\"function\"><span class=\"params\">link</span> =&gt;</span> link.target === <span class=\"string\">'_blank'</span>).forEach(<span class=\"function\"><span class=\"params\">link</span> =&gt;</span> (link.rel = <span class=\"string\">'noopener noreferrer'</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(htmlclean())</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      htmlmin(&#123;</span><br><span class=\"line\">        removeComments: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyJS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyCSS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        minifyURLs: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'js'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理javascript</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.js'</span>)</span><br><span class=\"line\">    .pipe(uglify())</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'xml-json'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//處理xml與json(選擇性，如果不要的話就把這一段移除掉並把下面'xml-json'也移除)</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .src(<span class=\"string\">'./public/**/*.(xml|json)'</span>)</span><br><span class=\"line\">    .pipe(</span><br><span class=\"line\">      prettyData(&#123;</span><br><span class=\"line\">        type: <span class=\"string\">'minify'</span>,</span><br><span class=\"line\">        preserveComments: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        extensions: &#123;</span><br><span class=\"line\">          xlf: <span class=\"string\">'xml'</span>,</span><br><span class=\"line\">          svg: <span class=\"string\">'xml'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'public'</span>))</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, [</span><br><span class=\"line\">  <span class=\"comment\">//執行tasks</span></span><br><span class=\"line\">  <span class=\"string\">'css'</span>,</span><br><span class=\"line\">  <span class=\"string\">'html'</span>,</span><br><span class=\"line\">  <span class=\"string\">'js'</span>,</span><br><span class=\"line\">  <span class=\"string\">'xml-json'</span></span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h2><p>接下來打開<code>package.json</code><br>新增一個<code>scripts</code>的區塊，裡面有個字串<code>build</code>，值填入<code>hexo clean &amp;&amp; hexo g &amp;&amp; gulp</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//something....</span></span><br><span class=\"line\"><span class=\"string\">\"private\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">\"scripts\"</span>: &#123;</span><br><span class=\"line\"> <span class=\"string\">\"build\"</span>: <span class=\"string\">\"hexo clean &amp;&amp; hexo g &amp;&amp; gulp\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">\"dependencies\"</span>: &#123; <span class=\"comment\">//something....</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"完成\"><a href=\"#完成\" class=\"headerlink\" title=\"完成\"></a>完成</h1><p>基本上這樣就完成了未來只要執行<code>npm run build</code>就會自動產生檔案並壓縮，而執行<code>hexo generate</code>只會產生檔案而不會壓縮</p>\n<p>此外，<code>gulpfile.js</code>其實還能做很多事來修改頁面上的一些東西，但我懶得寫文章詳細講<br>有興趣的可以來看看這個網站所用的 <a href=\"https://github.com/maple3142/Blog/blob/master/gulpfile.js\" target=\"_blank\" rel=\"noopener\">gulefile.js</a></p>","categories":[{"name":"教學","path":"api/categories/教學.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"}]}